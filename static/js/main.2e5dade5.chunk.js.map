{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Loader.js","components/Modal.js","components/Button.js","api/getImages.js","components/App.js","index.js"],"names":["SearchBarHeader","styled","header","SearchForm","form","SearchButton","button","SearchButtonLabel","span","SearchFormInput","input","Searchbar","state","searchQuery","onChange","e","target","name","value","length","setState","onSubmit","preventDefault","props","onFormSubmit","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItm","li","Image","img","ImageGalleryItem","images","onImageClick","map","id","previewURL","webformatURL","key","onClick","src","alt","ImageGrid","ul","ImageGallery","Loader","color","height","width","Overlay","div","ModalWindow","Modal","handleKeyDown","code","onModalClose","window","addEventListener","removeEventListener","imageURL","LoadMore","Button","onLoadMore","page","axios","get","then","response","data","hits","Application","App","isLoading","imgURL","error","onSearchFormSubmit","query","fetchImages","getImagesAPI","prevState","catch","finally","prevProps","snapshot","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2e5dade5.chunk.js","sourcesContent":["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst SearchBarHeader = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n  0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst SearchForm = styled.form`\ndisplay: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder{\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\n\nexport default class Searchbar extends Component {\n\n  state = {\n    searchQuery: ''\n  };\n\n  onChange = e => {\n    const {name, value} = e.target;\n\n    if (value.length <= 6)\n    this.setState({[name]: value})\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    this.props.onFormSubmit(this.state.searchQuery);\n    this.setState({searchQuery: ''});\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <SearchBarHeader>\n        <SearchForm onSubmit={this.onSubmit}>\n          <SearchButton type=\"submit\">\n            <SearchButtonLabel>Search</SearchButtonLabel>\n          </SearchButton>\n\n          <SearchFormInput\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchQuery\"\n            value={searchQuery}\n            onChange={this.onChange}\n          />\n        </SearchForm>\n      </SearchBarHeader>\n    )\n  }\n}\n\nSearchbar.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst ImageGalleryItm = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n  0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  &:nth-child(15n) {\n    width: 140px;\n    height: 140px\n  }\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nexport default function ImageGalleryItem({images, onImageClick}) {\n  return (\n    <>\n      {images.map(({id, previewURL, webformatURL}) => (\n        <ImageGalleryItm key={id}>\n          <Image onClick={() => {\n            onImageClick(webformatURL);\n          }} src={previewURL} alt=\"\"/>\n        </ImageGalleryItm>\n      ))}\n    </>\n  )\n}\n\nImageGalleryItem.propTypes = {\n  onImageClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    previewURL: PropTypes.string.isRequired\n  }).isRequired)\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nconst ImageGrid = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default function ImageGallery({images, onImageClick}) {\n  return (\n    <ImageGrid>\n      <ImageGalleryItem onImageClick={onImageClick} images={images}/>\n    </ImageGrid>\n  )\n}\n\nImageGallery.propTypes = {\n  onImageClick: PropTypes.func.isRequired,\n  images: PropTypes.array.isRequired\n};","//Компонент спинера, отображется пока идет загрузка изобаржений. Используй любой готовый компонент, например react-loader-spinner или любой другой.\n\nimport React from \"react\";\nimport LoadIndicator from \"react-loader-spinner\";\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function Loader() {\n  return(\n    <LoadIndicator\n      type=\"Bars\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n    />\n  )\n}","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nconst ModalWindow = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n\nexport default class Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onModalClose();\n    }\n  };\n\n  render() {\n    const {onModalClose, imageURL} = this.props;\n\n    return <Overlay onClick={onModalClose}>\n      <ModalWindow>\n        <img src={imageURL} alt=\"\"/>\n      </ModalWindow>\n    </Overlay>\n  }\n}\n\nModal.propTypes = {\n  onModalClose: PropTypes.func.isRequired,\n  imageURL: PropTypes.string.isRequired\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst LoadMore = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n  0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover {\n   background-color: #303f9f;\n  }\n  &:focus {\n   background-color: #303f9f;\n  }\n`;\n\nexport default function Button({onLoadMore}) {\n  return (\n    <LoadMore type=\"button\" onClick={onLoadMore}>\n      Load more...\n    </LoadMore>\n  )\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n};","import axios from \"axios\";\n\nconst fetchImages = (searchQuery, page = 0) => {\n  return axios\n    .get(\n      `http://pixabay.com/api/?q=${searchQuery}&page=${page}&key=14121213-0294698cbddd3de5cddc95af0&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchImages,\n};","import React, {Component} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport Loader from \"./Loader\";\r\nimport Modal from \"./Modal\";\r\nimport Button from \"./Button\";\r\n\r\nimport getImagesAPI from \"../api/getImages\"\r\n\r\nconst Application = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    page: 0,\r\n    isLoading: false,\r\n    imgURL: null,\r\n    error: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // if (prevState.imgURL === this.state.imgURL){\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n    // }\r\n\r\n    const prevSearchQuery = prevState.searchQuery;\r\n    const currentSearchQuery = this.state.searchQuery;\r\n\r\n    if (prevSearchQuery !== currentSearchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  };\r\n\r\n  onSearchFormSubmit = (query) => {\r\n    this.setState({\r\n      images: [],\r\n      searchQuery: query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  onImageClick = (imageURL) => {\r\n    this.setState({\r\n      imgURL: imageURL\r\n    })\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({\r\n      imgURL: null\r\n    })\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const {searchQuery, page} = this.state;\r\n\r\n    this.setState({isLoading: true});\r\n\r\n    getImagesAPI\r\n      .fetchImages(searchQuery, page)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 2\r\n        })))\r\n      .catch(error => this.setState({error}))\r\n      .finally(() => this.setState({isLoading: false}));\r\n  };\r\n\r\n  render() {\r\n\r\n    const {images, isLoading, error, imgURL} = this.state;\r\n\r\n    return (\r\n      <Application>\r\n        <Searchbar onFormSubmit={this.onSearchFormSubmit}/>\r\n        {error && (<p>{`Whoops, something went wrong: ${error.message}`}</p>)}\r\n        {images.length > 0 && <ImageGallery onImageClick={this.onImageClick} images={images}/>}\r\n        {isLoading && <Loader/>}\r\n        {images.length > 0 && !isLoading && (\r\n          <Button onLoadMore={this.fetchImages}/>\r\n        )}\r\n        {imgURL && <Modal imageURL={imgURL} onModalClose={this.onModalClose}/>}\r\n      </Application>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}